<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>DATA__LATITUDE DASHBOARD</title>
    <!-- BOOTSTRAP CSS-->
    <link rel="stylesheet" href="./Scripts/bootstrap-4.3.1-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./Scripts/bootstrap-4.3.1-dist/css/bootstrap.min.css">
    <!-- TABLE AJAX LIBRARIES -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
        <div class="container" >
            <br>
            <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
                    <a class="navbar-brand" href="./index.html">LATITUDE</a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
                      <span class="navbar-toggler-icon"></span>
                    </button>
                     
                    <div class="collapse navbar-collapse" id="navbarColor01">
                      <ul class="navbar-nav mr-auto">
                            <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">PLOTS</a>
                                        <div class="dropdown-menu" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 40px, 0px);">
                                            <a class="dropdown-item" href="./max_temperature.html">MAX TEMPERATURE</a>
                                            <a class="dropdown-item" href="./humidity.html">HUMIDITY</a>
                                            <a class="dropdown-item" href="./cloudiness.html">CLOUDINESS</a>
                                            <a class="dropdown-item" href="./wind_speed.html">WIND SPEED</a>
                                        </div>
                                </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./comparisions.html">COMPARISONS</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" href="./data.html">DATA</a>
                        </li>
                      </ul>
            </nav>
                <br>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="page-header">
                            <h1 class="text-info"><strong>DATA</strong></h1>
                            <p class="text-muted">The following table includes all of the data used for plotting during this project:
                                <button type="button" name="load_data" id="load_data" class="btn btn-info">load data</button>
                            </p>
                        </div>
                    </div>
                </div> <!--TITULO-->
                <div class="table-info">
                    <div id="cities_table">
                    <!-- HERE GOES THE TABLe -->
                    </div>
                </div>
        </div><!--  CONTAINER -->
        <p style="text-align:center; margin:5px;">Copyright &copy; 2019</p>
        <!-- BOOTSTRAP JS -->
        <script src="./Scripts/bootstrap-4.3.1-dist/js/jquery-3.4.1.min.js"></script>
        <script src="./Scripts/bootstrap-4.3.1-dist/js/popper.min.js"></script>
        <script src="./Scripts/bootstrap-4.3.1-dist/js/bootstrap.min.js"></script>
    
</body>
</html>

<script>
// function to read de csv file
$(document).ready(function(){
    $('#load_data').click(function(){
        $.ajax({
            url:"./Resources/cities.csv",
            dataType:"text",
            success:function(data){
                var array_data = data.split(/\r?\n|\r/);
                var table_data = '<table class="table table-bordered table-striped">';
                for(var count=0; count<array_data.length; count++){
                    var cell_data = array_data[count].split(",");
                    table_data += '<tr>';
                        for(var cell_count=0; cell_count<cell_data.length; cell_count++){
                            if(count === 0){
                                table_data += '<th>'+cell_data[cell_count]+'</th>';
                            }
                            else{
                                table_data += '<td>'+cell_data[cell_count]+'</td>';
                            }
                        }
                        table_data += '</tr>';
                }
                table_data += '</table>';
                $('#cities_table').html(table_data);
            }
        });
    });
});
</script>
